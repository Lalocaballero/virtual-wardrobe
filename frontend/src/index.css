@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  --- 1. BASE STYLES using @layer base ---
  Here we define the default look for basic HTML elements.
  This is the perfect place for our global dark mode settings.
*/
@layer base {
  /* Default background and text colors for the whole app */
  body {
    @apply bg-cloud-white dark:bg-midnight-ink;
    @apply text-midnight-ink dark:text-cloud-white;

    /* Set the base font for the entire application to Inter */
    @apply font-sans;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Consistent heading styles using Poppins */
  h1, h2, h3, h4, h5, h6 {
    @apply font-poppins font-semibold text-inkwell dark:text-cloud-white;
  }

  /* Consistent link styles */
  a {
    @apply text-secondary hover:underline;
  }

  /* Default form input styles */
  input, select, textarea {
    @apply bg-cloud-white dark:bg-dark-subtle border border-fog dark:border-inkwell text-midnight-ink dark:text-cloud-white placeholder-slate dark:placeholder-slate rounded-lg focus:ring-secondary focus:border-secondary;
  }

  p {
    @apply text-slate dark:text-dark-text-secondary;
  }

  /* Default checkbox styles */
  [type='checkbox'] {
    @apply h-4 w-4 rounded border-fog dark:border-inkwell bg-fog dark:bg-inkwell text-secondary focus:ring-secondary;
  }
  
  code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
      monospace;
  }
}

/* 
  --- 2. REUSABLE COMPONENT CLASSES using @layer components ---
  This is where we can create our own custom utility classes, like .btn
  This is the CSS-based alternative to creating a <Button> component.
*/
@layer components {
  /* Base button styles */
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 whitespace-nowrap;
  }

  /* Button variants */
  .btn-primary {
    @apply btn bg-primary hover:bg-primary/90 text-primary-foreground;
  }
  .btn-secondary {
    @apply btn bg-muted hover:bg-muted/90 text-muted-foreground dark:bg-inkwell dark:hover:bg-slate;
  }
  .btn-danger {
    @apply btn bg-destructive hover:bg-destructive/90 text-destructive-foreground;
  }
}


/* 
  --- 3. YOUR EXISTING CUSTOM UTILITIES AND ANIMATIONS ---
  These can remain as they are. No changes needed here.
*/
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fadeIn { animation: fadeIn 0.3s ease-out; }

.loading-spinner {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid #f3f3f3;
  border-top: 3px solid #3498db;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

/* Custom animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.fade-in {
  animation: fadeIn 0.5s ease-in;
}

.slide-up {
  animation: slideUp 0.3s ease-out;
}

@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.gradient-text {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* 
  --- 4. DARK MODE AWARE SCROLLBAR ---
  The ::-webkit-scrollbar pseudo-element doesn't work with Tailwind's `dark:` variant.
  So we use a standard media query to detect the OS-level color scheme.
*/

/* Light mode scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #f1f1f1; }
::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

/* Dark mode scrollbar */
@media (prefers-color-scheme: dark) {
  ::-webkit-scrollbar-track { background: #2d3748; } /* A dark gray */
  ::-webkit-scrollbar-thumb { background: #4a5568; } /* A slightly lighter gray */
  ::-webkit-scrollbar-thumb:hover { background: #718096; }
}